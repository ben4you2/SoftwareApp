<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
    <title>Mobile Lotto Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            text-align: center;
            padding: 10px;
        }
        button {
            padding: 15px 30px;
            font-size: 18px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #0056b3;
        }
        #numbers {
            font-size: 24px;
            margin-top: 20px;
            color: #333;
        }
        input {
            padding: 10px;
            font-size: 16px;
            margin: 10px;
            width: 80px;
        }
        .example-content {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
    </style>
</head>
<body>
    <ion-tabs>
        <ion-tab tab="home">
            <ion-content>
                <div id="home-page">
                    <ion-header>
                        <ion-toolbar>
                            <ion-title>Listen now</ion-title>
                        </ion-toolbar>
                    </ion-header>
                    <br>
                    <div class="example-content">Listen now content to your mind and ears</div>
                    <div class="example-content">Radio content
                        <br>
                        <p>This is a content</p>
                    </div>
                    <h2>Mobile Lotto Generator</h2>
                    <label>Numbers to Pick: <input type="number" id="count" value="6" min="1"></label><br>
                    <label>Max Number: <input type="number" id="max" value="49" min="10"></label><br>
                    <button id="generate-button">Generate Numbers</button>
                    <div id="numbers"></div>
                    <hr style="font-size:2px; width:260px">
                </div>
                <ion-list>
                    <ion-item>
                        <ion-select class="never-flip" toggle-icon="caret-down-sharp" interface="popover" label="Numbers and Lottery" placeholder="Select type">
                            <ion-select-option value="apples">Boloto</ion-select-option>
                            <ion-select-option value="oranges">Lotto5</ion-select-option>
                            <ion-select-option value="bananas">Lotto5/5</ion-select-option>
                            <ion-select-option value="royal5">Royal 5</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-list>
                <h2>Working on the numbers</h2>
                <div style="margin:20px; padding:5px">
                    <p>That is a web lotto explanation</p>
                    <p>This is when you select the numbers that can be the winners</p>
                    <br>
                    <button id="see-more-button">See more...</button>
                </div>
            </ion-content>
        </ion-tab>
        <ion-tab tab="globe">
            <ion-content>
                <div id="radio-page">
                    <ion-header>
                        <ion-toolbar>
                            <ion-title>Radio</ion-title>
                        </ion-toolbar>
                    </ion-header>
                    <br>
                    <div class="example-content">Radio content</div>
                </div>
            </ion-content>
        </ion-tab>
        <ion-tab tab="library">
            <ion-header>
                <ion-toolbar>
                    <ion-title>Library</ion-title>
                </ion-toolbar>
            </ion-header>
            <ion-content>
                <div id="library-page">
                    <br>
                    <div class="example-content">Library content</div>
                    <ion-list>
                        <ion-item>
                            <ion-select aria-label="Fruit" interface="action-sheet" placeholder="Select Book">
                                <ion-select-option value="apples">Little Boy</ion-select-option>
                                <ion-select-option value="oranges">Networking for Professional</ion-select-option>
                                <ion-select-option value="bananas">Software Development for Professional</ion-select-option>
                            </ion-select>
                        </ion-item>
                    </ion-list>
                    <ion-list>
                        <ion-item>
                            <ion-select aria-label="Fruit" interface="popover" placeholder="Select Book">
                                <ion-select-option value="apples">Little Boy</ion-select-option>
                                <ion-select-option value="oranges">Network for Beginners</ion-select-option>
                                <ion-select-option value="bananas">Programming languages for Beginners</ion-select-option>
                            </ion-select>
                        </ion-item>
                    </ion-list>
                    <div style="margin:17px;padding:12px">
                        <p>This is about a program and application that is to be used to show apple. You can see and review the page to make your search</p>
                    </div>
                </div>
            </ion-content>
        </ion-tab>
        <ion-tab tab="search">
            <ion-header>
                <ion-toolbar>
                    <ion-title>Search</ion-title>
                </ion-toolbar>
            </ion-header>
            <ion-content>
                <div id="search-page">
                    <ion-toggle helper-text=" Enable to connect to available networks" error-text=" Must be enabled to access the internet" justify=" space-between" checked>Wi-Fi</ion-toggle>
                    <br>
                    <div class="container">
                        <ion-list inset="true">
                            <ion-item button="true" detail="false" id="select-fruits">
                                <ion-label>Favorite Fruits</ion-label>
                                <div slot="end" id="selected-fruits">0 Items</div>
                            </ion-item>
                        </ion-list>
                    </div>
                    <ion-modal trigger="select-fruits">
                        <ion-header>
                            <ion-toolbar>
                                <ion-buttons slot="start">
                                    <ion-button onclick="cancelChanges()">Cancel</ion-button>
                                </ion-buttons>
                                <ion-title>Favorite Fruits</ion-title>
                                <ion-buttons slot="end">
                                    <ion-button onclick="confirmChanges()">Done</ion-button>
                                </ion-buttons>
                            </ion-toolbar>
                            <ion-toolbar>
                                <ion-searchbar></ion-searchbar>
                            </ion-toolbar>
                        </ion-header>
                        <ion-content color="light" class="ion-padding">
                            <ion-list id="modal-list" inset="true"></ion-list>
                        </ion-content>
                    </ion-modal>
                </div>
            </ion-content>
        </ion-tab>
        <ion-tab tab="emergency">
            <ion-header>
                <ion-toolbar>
                    <ion-title>Emergency</ion-title>
                </ion-toolbar>
            </ion-header>
            <ion-content>
                <div id="emergency-page">
                    <p>The emergency request</p>
                    <link rel="stylesheet" href="/style.css">
                    <script src="https://cdn.tailwindcss.com"></script>
                    <script>
                        tailwind.config = {
                            theme: {
                                extend: {},
                            }
                        };
                    </script>
                    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
                    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
                </div>
            </ion-content>
        </ion-tab>
        <ion-tab-bar slot="bottom">
            <ion-tab-button tab="home">
                <ion-icon name="home"></ion-icon>
                Home
            </ion-tab-button>
            <ion-tab-button tab="globe">
                <ion-icon name="globe"></ion-icon>
                Globe
            </ion-tab-button>
            <ion-tab-button tab="library">
                <ion-icon name="library"></ion-icon>
                Books
            </ion-tab-button>
            <ion-tab-button tab="search">
                <ion-icon name="search"></ion-icon>
                Search
            </ion-tab-button>
            <ion-tab-button tab="emergency">
                <ion-icon name="alert-circle-outline"></ion-icon>
                Emergency
            </ion-tab-button>
        </ion-tab-bar>
    </ion-tabs>
    <script>
        document.getElementById('generate-button').addEventListener('click', generateNumbers);
        document.getElementById('see-more-button').addEventListener('click', () => {
            document.querySelector('.ico').scrollIntoView({ behavior: 'smooth' });
        });

        function generateNumbers() {
            const count = parseInt(document.getElementById('count').value);
            const max = parseInt(document.getElementById('max').value);

            if (count > max) {
                alert("Number of picks cannot exceed the maximum number!");
                return;
            }

            let numbers = [];
            while (numbers.length < count) {
                const num = Math.floor(Math.random() * max) + 1;
                if (!numbers.includes(num)) {
                    numbers.push(num);
                }
            }

            numbers.sort((a, b) => a - b); // Sort in ascending order
            document.getElementById('numbers').innerText = "Your Numbers: " + numbers.join(", ");
        }

        const wifi = document.querySelector('ion-toggle');
        wifi.addEventListener('ionChange', (event) => validateToggle(event));

        const validateToggle = (event) => {
            wifi.classList.add('ion-touched');

            if (!event.detail.checked) {
                wifi.classList.add('ion-invalid');
                wifi.classList.remove('ion-valid');
            } else {
                wifi.classList.remove('ion-invalid');
                wifi.classList.add('ion-valid');
            }
        };

        const list = document.querySelector('ion-list#modal-list');
        const modal = document.querySelector('ion-modal');
        const searchbar = document.querySelector('ion-searchbar');
        const selectedFruitsText = document.querySelector('#selected-fruits');
        const fruits = [
            { text: 'Apple', value: 'apple' },
            { text: 'Apricot', value: 'apricot' },
            { text: 'Banana', value: 'banana' },
            { text: 'Blackberry', value: 'blackberry' },
            { text: 'Blueberry', value: 'blueberry' },
            { text: 'Cherry', value: 'cherry' },
            { text: 'Cranberry', value: 'cranberry' },
            { text: 'Grape', value: 'grape' },
            { text: 'Grapefruit', value: 'grapefruit' },
            { text: 'Guava', value: 'guava' },
            { text: 'Jackfruit', value: 'jackfruit' },
            { text: 'Lime', value: 'lime' },
            { text: 'Mango', value: 'mango' },
            { text: 'Nectarine', value: 'nectarine' },
            { text: 'Orange', value: 'orange' },
            { text: 'Papaya', value: 'papaya' },
            { text: 'Passionfruit', value: 'passionfruit' },
            { text: 'Peach', value: 'peach' },
            { text: 'Pear', value: 'pear' },
            { text: 'Plantain', value: 'plantain' },
            { text: 'Plum', value: 'plum' },
            { text: 'Pineapple', value: 'pineapple' },
            { text: 'Pomegranate', value: 'pomegranate' },
            { text: 'Raspberry', value: 'raspberry' },
            { text: 'Strawberry', value: 'strawberry' },
        ];

        var selectedFruits = [];
        var workingSelectedFruits = [];

        function filterList(searchQuery = undefined) {
            if (searchQuery === undefined) return fruits;

            const normalizedQuery = searchQuery.toLowerCase();

            return fruits.filter((fruit) => fruit.text.toLowerCase().includes(normalizedQuery));
        }

        function renderList(searchQuery = undefined) {
            const data = filterList(searchQuery);
            let template = '';

            data.forEach((item) => {
                const checked = workingSelectedFruits.includes(item.value);
                template += `
                    <ion-item>
                        <ion-checkbox value="${item.value}" ${checked ? 'checked' : ''}>${item.text}</ion-checkbox>
                    </ion-item>
                `;
            });

            list.innerHTML = template;
        }

        function formatData(data) {
            if (data.length === 1) {
                const fruit = fruits.find((fruit) => fruit.value === data[0]);
                return fruit.text;
            }

            return `${data.length} items`;
        }

        function cancelChanges() {
            workingSelectedFruits = [...selectedFruits];
            modal.dismiss(undefined, 'cancel');
        }

        function confirmChanges() {
            selectedFruits = [...workingSelectedFruits];
            modal.dismiss(selectedFruits);
        }

        modal.addEventListener('ionChange', (event) => {
            if (event.target.tagName !== 'ION-CHECKBOX') {
                return;
            }

            const { checked, value } = event.detail;

            if (checked) {
                workingSelectedFruits = [...workingSelectedFruits, value];
            } else {
                workingSelectedFruits = workingSelectedFruits.filter((fruit) => fruit !== value);
            }
        });

        searchbar.addEventListener('ionInput', (event) => {
            renderList(event.target.value);
        });

        modal.addEventListener('ionModalWillDismiss', (event) => {
            const { data } = event.detail;

            if (data === undefined) return;

            const selectedText = formatData(data);

            selectedFruitsText.innerText = selectedText;
        });

        modal.addEventListener('ionModalDidDismiss', () => {
            searchbar.value = undefined;
            renderList();
        });

        renderList();
    </script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.js"></script>
</body>
</html>